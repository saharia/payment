{"version":3,"sources":["../../../../../src/graphql-config/input/payment-service/payment/payment.input.ts"],"sourcesContent":["import { Field, InputType } from \"@nestjs/graphql\";\nimport { Type } from \"class-transformer\";\nimport { IsEnum, IsNotEmpty, IsNumber, IsOptional, IsString, IsUUID, ValidateNested } from \"class-validator\";\nimport { PaymentMode } from \"../../../../orm-config/entity/enum/payment-mode\";\nimport { PaymentType } from \"../../../../orm-config/entity/enum/payment-type\";\nimport { Brand } from \"../../../../orm-config/entity/payment/brand.entity\";\nimport { PaymentGateway } from \"../../../../orm-config/entity/payment/payment-gateway.entity\";\nimport { BrandGatewayExists } from \"../../../../validation/brand/brand-gateway-exists/brand-gateway-exists.decorator\";\nimport { RelationExists } from \"../../../../validation/custom/relation-exists/relation-exists.decorator\";\nimport { ValidateIf } from \"../../../../validation/validate-if/validate-if.decorator\";\nimport { PaypalSubscriptionInput } from \"./paypal-subscription.input\";\nimport { RazorpaySubscriptionInput } from \"./razorpay-subscription.input\";\nimport { StripeSubscriptionInput } from \"./stripe-subscription.input\";\n\n\n@InputType()\nexport class PaymentInput {\n\n  @Field(() => String)\n  @IsNotEmpty()\n  @IsUUID(4)\n  @RelationExists(PaymentGateway)\n  paymentGatewayId: string;\n\n  @Field(() => String)\n  @IsNotEmpty()\n  @IsString()\n  name: string;\n\n  @Field(() => String)\n  @IsNotEmpty()\n  @IsUUID(4)\n  @RelationExists(Brand)\n  @BrandGatewayExists()\n  primaryBrandId: string;\n\n  @Field(() => String, { nullable: true })\n  @IsNotEmpty()\n  // @IsOptional()\n  @IsUUID(4)\n  @RelationExists(Brand)\n  secondaryBrandId: string;\n\n  @Field(() => PaymentMode)\n  @IsEnum(PaymentMode)\n  paymentMode: PaymentMode;\n\n  @Field(() => PaymentType)\n  @IsEnum(PaymentType)\n  paymentType: PaymentType;\n\n  @Field(() => String, { nullable: true })\n  @IsOptional()\n  @IsString()\n  returnUrl: string;\n\n  @Field(() => String, { nullable: true })\n  @IsOptional()\n  @IsString()\n  cancelUrl: string;\n\n  @Field(() => Number)\n  @IsNotEmpty()\n  @IsNumber()\n  amount: number;\n\n  @Field(() => String)\n  @IsNotEmpty()\n  @IsString()\n  currency: string;\n\n  @Field(() => String)\n  @IsNotEmpty()\n  @IsString()\n  token: string;\n\n  /* Paypal subscription input */\n  @Field(() => PaypalSubscriptionInput, { nullable: true })\n  @Type(() => PaypalSubscriptionInput)\n  @ValidateIf([ 'paypal', 'payment' ])\n  @ValidateNested()\n  paypalSubscription: PaypalSubscriptionInput;\n\n  /* Stripe subscription input */\n  @Field(() => StripeSubscriptionInput, { nullable: true })\n  @ValidateIf([ 'stripe', 'payment' ])\n  @Type(() => StripeSubscriptionInput)\n  @ValidateNested()\n  stripeSubscription: StripeSubscriptionInput;\n\n  /* Razorpay subscription input */\n  @Field(() => RazorpaySubscriptionInput, { nullable: true })\n  @ValidateIf([ 'razorpay', 'payment' ])\n  @Type(() => RazorpaySubscriptionInput)\n  @ValidateNested()\n  razorpaySubscription: RazorpaySubscriptionInput;\n  \n}\n"],"names":["PaymentInput","Field","String","IsNotEmpty","IsUUID","RelationExists","PaymentGateway","IsString","Brand","BrandGatewayExists","nullable","PaymentMode","IsEnum","PaymentType","IsOptional","Number","IsNumber","PaypalSubscriptionInput","Type","ValidateIf","ValidateNested","StripeSubscriptionInput","RazorpaySubscriptionInput","InputType"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAgBaA;;;eAAAA;;;yBAhBoB;kCACZ;gCACsE;6BAC/D;6BACA;6BACN;sCACS;6CACI;yCACJ;qCACJ;yCACa;2CACE;yCACF;;;;;;;;;;AAIjC,IAAA,AAAMA,eAAN,MAAMA;AAiFb;;IA/EGC,IAAAA,cAAK,EAAC,IAAMC;IACZC,IAAAA,0BAAU;IACVC,IAAAA,sBAAM,EAAC;IACPC,IAAAA,uCAAc,EAACC,oCAAc;;GALnBN;;IAQVC,IAAAA,cAAK,EAAC,IAAMC;IACZC,IAAAA,0BAAU;IACVI,IAAAA,wBAAQ;;GAVEP;;IAaVC,IAAAA,cAAK,EAAC,IAAMC;IACZC,IAAAA,0BAAU;IACVC,IAAAA,sBAAM,EAAC;IACPC,IAAAA,uCAAc,EAACG,kBAAK;IACpBC,IAAAA,+CAAkB;;GAjBRT;;IAoBVC,IAAAA,cAAK,EAAC,IAAMC,QAAQ;QAAEQ,UAAU;IAAK;IACrCP,IAAAA,0BAAU;IAEVC,IAAAA,sBAAM,EAAC;IACPC,IAAAA,uCAAc,EAACG,kBAAK;;GAxBVR;;IA2BVC,IAAAA,cAAK,EAAC,IAAMU,wBAAW;IACvBC,IAAAA,sBAAM,EAACD,wBAAW;uCACN,wBAAW,4BAAX,wBAAW;GA7BbX;;IA+BVC,IAAAA,cAAK,EAAC,IAAMY,wBAAW;IACvBD,IAAAA,sBAAM,EAACC,wBAAW;uCACN,wBAAW,4BAAX,wBAAW;GAjCbb;;IAmCVC,IAAAA,cAAK,EAAC,IAAMC,QAAQ;QAAEQ,UAAU;IAAK;IACrCI,IAAAA,0BAAU;IACVP,IAAAA,wBAAQ;;GArCEP;;IAwCVC,IAAAA,cAAK,EAAC,IAAMC,QAAQ;QAAEQ,UAAU;IAAK;IACrCI,IAAAA,0BAAU;IACVP,IAAAA,wBAAQ;;GA1CEP;;IA6CVC,IAAAA,cAAK,EAAC,IAAMc;IACZZ,IAAAA,0BAAU;IACVa,IAAAA,wBAAQ;;GA/CEhB;;IAkDVC,IAAAA,cAAK,EAAC,IAAMC;IACZC,IAAAA,0BAAU;IACVI,IAAAA,wBAAQ;;GApDEP;;IAuDVC,IAAAA,cAAK,EAAC,IAAMC;IACZC,IAAAA,0BAAU;IACVI,IAAAA,wBAAQ;;GAzDEP;;IA6DVC,IAAAA,cAAK,EAAC,IAAMgB,gDAAuB,EAAE;QAAEP,UAAU;IAAK;IACtDQ,IAAAA,sBAAI,EAAC,IAAMD,gDAAuB;IAClCE,IAAAA,+BAAU,EAAC;QAAE;QAAU;KAAW;IAClCC,IAAAA,8BAAc;uCACK,gDAAuB,4BAAvB,gDAAuB;GAjEhCpB;;IAoEVC,IAAAA,cAAK,EAAC,IAAMoB,gDAAuB,EAAE;QAAEX,UAAU;IAAK;IACtDS,IAAAA,+BAAU,EAAC;QAAE;QAAU;KAAW;IAClCD,IAAAA,sBAAI,EAAC,IAAMG,gDAAuB;IAClCD,IAAAA,8BAAc;uCACK,gDAAuB,4BAAvB,gDAAuB;GAxEhCpB;;IA2EVC,IAAAA,cAAK,EAAC,IAAMqB,oDAAyB,EAAE;QAAEZ,UAAU;IAAK;IACxDS,IAAAA,+BAAU,EAAC;QAAE;QAAY;KAAW;IACpCD,IAAAA,sBAAI,EAAC,IAAMI,oDAAyB;IACpCF,IAAAA,8BAAc;uCACO,oDAAyB,4BAAzB,oDAAyB;GA/EpCpB;AAAAA;IADZuB,IAAAA,kBAAS;GACGvB"}