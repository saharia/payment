{"version":3,"sources":["../../../../src/database/migration/payment/1676277636101-CreatePaymentGateway.ts"],"sourcesContent":["import { MigrationInterface, QueryRunner, Table } from \"typeorm\";\nimport { defaultColumns } from \"../../default-column.migration\";\nimport { primaryColumns } from \"../../primary-column.migration\";\nimport { paymentTableName } from '../../../common';\n\nexport class CreatePaymentGateway1676277636101 implements MigrationInterface {\n\n  tablePrefix = (process.env.TABLE_PREFIX ? process.env.TABLE_PREFIX : '');\n  tableName = this.tablePrefix + paymentTableName.paymentGateway;\n  \n  public async up(queryRunner: QueryRunner): Promise<void> {\n    console.log(\"payment gateway table migration is running -->\", this.tableName);\n    await queryRunner.createTable(\n      new Table({\n        name: this.tableName,\n        columns: [\n          ...primaryColumns,\n          {\n            name: \"name\",\n            type: \"varchar\",\n            isNullable: false\n          },\n          {\n            name: \"api_sandbox_token_url\",\n            type: \"varchar\",\n            isNullable: false\n          },\n          {\n            name: \"api_sandbox_payment_url\",\n            type: \"varchar\",\n            isNullable: false\n          },\n          {\n            name: \"api_token_url\",\n            type: \"varchar\",\n            isNullable: false\n          },\n          {\n            name: \"api_payment_url\",\n            type: \"varchar\",\n            isNullable: false\n          },\n          ...defaultColumns\n        ],\n      }),\n      true,\n    )\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    await queryRunner.dropTable(this.tableName);\n  }\n\n}\n"],"names":["CreatePaymentGateway1676277636101","up","queryRunner","console","log","tableName","createTable","Table","name","columns","primaryColumns","type","isNullable","defaultColumns","down","dropTable","tablePrefix","process","env","TABLE_PREFIX","paymentTableName","paymentGateway"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAKaA;;;eAAAA;;;yBAL0C;wCACxB;wCACA;wBACE;AAE1B,IAAA,AAAMA,oCAAN,MAAMA;IAKX,MAAaC,GAAGC,WAAwB,EAAiB;QACvDC,QAAQC,GAAG,CAAC,kDAAkD,IAAI,CAACC,SAAS;QAC5E,MAAMH,YAAYI,WAAW,CAC3B,IAAIC,cAAK,CAAC;YACRC,MAAM,IAAI,CAACH,SAAS;YACpBI,SAAS;mBACJC,sCAAc;gBACjB;oBACEF,MAAM;oBACNG,MAAM;oBACNC,YAAY;gBACd;gBACA;oBACEJ,MAAM;oBACNG,MAAM;oBACNC,YAAY;gBACd;gBACA;oBACEJ,MAAM;oBACNG,MAAM;oBACNC,YAAY;gBACd;gBACA;oBACEJ,MAAM;oBACNG,MAAM;oBACNC,YAAY;gBACd;gBACA;oBACEJ,MAAM;oBACNG,MAAM;oBACNC,YAAY;gBACd;mBACGC,sCAAc;aAClB;QACH,IACA;IAEJ;IAEA,MAAaC,KAAKZ,WAAwB,EAAiB;QACzD,MAAMA,YAAYa,SAAS,CAAC,IAAI,CAACV,SAAS;IAC5C;;aA5CAW,cAAeC,QAAQC,GAAG,CAACC,YAAY,GAAGF,QAAQC,GAAG,CAACC,YAAY,GAAG;aACrEd,YAAY,IAAI,CAACW,WAAW,GAAGI,wBAAgB,CAACC,cAAc;;AA6ChE"}