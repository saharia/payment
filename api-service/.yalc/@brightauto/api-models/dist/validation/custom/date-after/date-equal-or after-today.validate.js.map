{"version":3,"sources":["../../../../src/validation/custom/date-after/date-equal-or after-today.validate.ts"],"sourcesContent":["import {\n  registerDecorator,\n  ValidationArguments,\n  ValidationOptions,\n} from 'class-validator';\nimport * as moment from 'moment';\n\nexport function IsDateEqualOrAfterToday<T>(\n  property?: keyof T,\n  validationOptions?: ValidationOptions,\n) {\n  return (object: any, propertyName: string) => {\n    registerDecorator({\n      name: 'IsDateEqualOrAfterToday',\n      target: object.constructor,\n      propertyName,\n      constraints: [property],\n      options: validationOptions,\n      validator: {\n        validate(value: any, args: ValidationArguments) {\n          console.log(\"here\");\n          const date = moment(value);\n          const startDate = moment();\n          console.log(date.format(), startDate.format())\n          return date.isSameOrAfter(startDate, 'date');\n        },\n\n        defaultMessage(args: ValidationArguments) {\n          const [relatedPropertyName] = args.constraints;\n          return `${propertyName} should be greater than or equal to ${moment().toDate()}`;\n        },\n      },\n    });\n  };\n}"],"names":["IsDateEqualOrAfterToday","property","validationOptions","object","propertyName","registerDecorator","name","target","constructor","constraints","options","validator","validate","value","args","console","log","date","moment","startDate","format","isSameOrAfter","defaultMessage","relatedPropertyName","toDate"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAOgBA;;;eAAAA;;;gCAHT;gEACiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEjB,SAASA,wBACdC,QAAkB,EAClBC,iBAAqC;IAErC,OAAO,CAACC,QAAaC;QACnBC,IAAAA,iCAAiB,EAAC;YAChBC,MAAM;YACNC,QAAQJ,OAAOK,WAAW;YAC1BJ;YACAK,aAAa;gBAACR;aAAS;YACvBS,SAASR;YACTS,WAAW;gBACTC,UAASC,KAAU,EAAEC,IAAyB;oBAC5CC,QAAQC,GAAG,CAAC;oBACZ,MAAMC,OAAOC,QAAOL;oBACpB,MAAMM,YAAYD;oBAClBH,QAAQC,GAAG,CAACC,KAAKG,MAAM,IAAID,UAAUC,MAAM;oBAC3C,OAAOH,KAAKI,aAAa,CAACF,WAAW;gBACvC;gBAEAG,gBAAeR,IAAyB;oBACtC,MAAM,CAACS,oBAAoB,GAAGT,KAAKL,WAAW;oBAC9C,OAAO,CAAC,EAAEL,aAAa,oCAAoC,EAAEc,UAASM,MAAM,GAAG,CAAC;gBAClF;YACF;QACF;IACF;AACF"}