{"version":3,"sources":["../../../../src/database/migration/authentication/1676272478287-CreateRole.ts"],"sourcesContent":["import { authenticationTableName } from \"../../../common\";\nimport { MigrationInterface, QueryRunner, Table } from \"typeorm\";\nimport { defaultColumns } from \"../../default-column.migration\";\nimport { primaryColumns } from \"../../primary-column.migration\";\n\nexport class CreateRole1676272478287 implements MigrationInterface {\n  tablePrefix = (process.env.TABLE_PREFIX ? process.env.TABLE_PREFIX : '');\n  tableName = this.tablePrefix + authenticationTableName.role;\n  \n  public async up(queryRunner: QueryRunner): Promise<void> {\n    console.log(\"role table migration is running -->\", this.tableName);\n    await queryRunner.createTable(\n      new Table({\n        name: this.tableName,\n        columns: [\n          ...primaryColumns,\n          {\n            name: \"name\",\n            type: \"varchar\",\n            isNullable: false\n          },\n          ...defaultColumns\n        ],\n      }),\n      true,\n    )\n  }\n\n  public async down(queryRunner: QueryRunner): Promise<void> {\n    await queryRunner.dropTable(this.tableName);\n  }\n\n}\n"],"names":["CreateRole1676272478287","up","queryRunner","console","log","tableName","createTable","Table","name","columns","primaryColumns","type","isNullable","defaultColumns","down","dropTable","tablePrefix","process","env","TABLE_PREFIX","authenticationTableName","role"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAKaA;;;eAAAA;;;wBAL2B;yBACe;wCACxB;wCACA;AAExB,IAAA,AAAMA,0BAAN,MAAMA;IAIX,MAAaC,GAAGC,WAAwB,EAAiB;QACvDC,QAAQC,GAAG,CAAC,uCAAuC,IAAI,CAACC,SAAS;QACjE,MAAMH,YAAYI,WAAW,CAC3B,IAAIC,cAAK,CAAC;YACRC,MAAM,IAAI,CAACH,SAAS;YACpBI,SAAS;mBACJC,sCAAc;gBACjB;oBACEF,MAAM;oBACNG,MAAM;oBACNC,YAAY;gBACd;mBACGC,sCAAc;aAClB;QACH,IACA;IAEJ;IAEA,MAAaC,KAAKZ,WAAwB,EAAiB;QACzD,MAAMA,YAAYa,SAAS,CAAC,IAAI,CAACV,SAAS;IAC5C;;aAxBAW,cAAeC,QAAQC,GAAG,CAACC,YAAY,GAAGF,QAAQC,GAAG,CAACC,YAAY,GAAG;aACrEd,YAAY,IAAI,CAACW,WAAW,GAAGI,+BAAuB,CAACC,IAAI;;AAyB7D"}